{"ast":null,"code":"import _defineProperty from\"C:/Users/JuanD/JuanD/respaldo002/cyg/node_modules/@babel/runtime/helpers/esm/defineProperty\";import _objectSpread from\"C:/Users/JuanD/JuanD/respaldo002/cyg/node_modules/@babel/runtime/helpers/esm/objectSpread2\";import _slicedToArray from\"C:/Users/JuanD/JuanD/respaldo002/cyg/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import Layout from'../../hocs/Layout';import{useState,useEffect}from'react';import{Link}from'react-router-dom';import{connect}from'react-redux';import{reset_password_confirm}from'../../redux/actions/auth';import Loader from'react-loader-spinner';import{Navigate,useParams}from'react-router';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var ResetPasswordConfirm=function ResetPasswordConfirm(_ref){var reset_password_confirm=_ref.reset_password_confirm,loading=_ref.loading;var params=useParams();var _useState=useState(false),_useState2=_slicedToArray(_useState,2),requestSent=_useState2[0],setRequestSent=_useState2[1];useEffect(function(){window.scrollTo(0,0);},[]);var _useState3=useState({new_password:'',re_new_password:''}),_useState4=_slicedToArray(_useState3,2),formData=_useState4[0],setFormData=_useState4[1];var new_password=formData.new_password,re_new_password=formData.re_new_password;var _onChange=function onChange(e){return setFormData(_objectSpread(_objectSpread({},formData),{},_defineProperty({},e.target.name,e.target.value)));};var _onSubmit=function onSubmit(e){e.preventDefault();var uid=params.uid;var token=params.token;reset_password_confirm(uid,token,new_password,re_new_password);if(new_password===re_new_password)setRequestSent(true);};if(requestSent&&!loading)return/*#__PURE__*/_jsx(Navigate,{to:\"/\"});return/*#__PURE__*/_jsx(Layout,{children:/*#__PURE__*/_jsxs(\"div\",{className:\"min-h-full flex flex-col justify-center py-12 sm:px-6 lg:px-8\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"sm:mx-auto sm:w-full sm:max-w-md\",children:[/*#__PURE__*/_jsx(\"img\",{className:\"mx-auto h-12 w-auto\",src:\"https://tailwindui.com/img/logos/workflow-mark-indigo-600.svg\",alt:\"Workflow\"}),/*#__PURE__*/_jsx(\"h2\",{className:\"mt-6 text-center text-3xl font-extrabold text-gray-900\",children:\"Set your new password\"})]}),/*#__PURE__*/_jsx(\"div\",{className:\"mt-8 sm:mx-auto sm:w-full sm:max-w-md\",children:/*#__PURE__*/_jsx(\"div\",{className:\"bg-white py-8 px-4 shadow sm:rounded-lg sm:px-10\",children:/*#__PURE__*/_jsxs(\"form\",{onSubmit:function onSubmit(e){return _onSubmit(e);},className:\"space-y-6\",children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"email\",className:\"block text-sm font-medium text-gray-700\",children:\"Password\"}),/*#__PURE__*/_jsx(\"div\",{className:\"mt-1\",children:/*#__PURE__*/_jsx(\"input\",{name:\"new_password\",value:new_password,onChange:function onChange(e){return _onChange(e);},type:\"password\",placeholder:\"Password\",required:true,className:\"appearance-none block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm placeholder-gray-400 focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm\"})})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"email\",className:\"block text-sm font-medium text-gray-700\",children:\"Repeat Password\"}),/*#__PURE__*/_jsx(\"div\",{className:\"mt-1\",children:/*#__PURE__*/_jsx(\"input\",{name:\"re_new_password\",value:re_new_password,onChange:function onChange(e){return _onChange(e);},type:\"password\",placeholder:\"Repeat Password\",required:true,className:\"appearance-none block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm placeholder-gray-400 focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm\"})})]}),/*#__PURE__*/_jsx(\"div\",{children:loading?/*#__PURE__*/_jsx(\"button\",{className:\"w-full flex justify-center py-2 px-4 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-indigo-600 hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500\",children:/*#__PURE__*/_jsx(Loader,{type:\"Oval\",color:\"#fff\",width:20,height:20})}):/*#__PURE__*/_jsx(\"button\",{type:\"submit\",className:\"w-full flex justify-center py-2 px-4 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-indigo-600 hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500\",children:\"Reset password\"})})]})})})]})});};var mapStateToProps=function mapStateToProps(state){return{loading:state.Auth.loading};};export default connect(mapStateToProps,{reset_password_confirm:reset_password_confirm})(ResetPasswordConfirm);","map":{"version":3,"sources":["C:/Users/JuanD/JuanD/respaldo002/cyg/src/containers/auth/ResetPasswordConfirm.js"],"names":["Layout","useState","useEffect","Link","connect","reset_password_confirm","Loader","Navigate","useParams","ResetPasswordConfirm","loading","params","requestSent","setRequestSent","window","scrollTo","new_password","re_new_password","formData","setFormData","onChange","e","target","name","value","onSubmit","preventDefault","uid","token","mapStateToProps","state","Auth"],"mappings":"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","sourcesContent":["import Layout from '../../hocs/Layout'\nimport { useState, useEffect } from 'react'\nimport { Link } from 'react-router-dom'\nimport {connect} from 'react-redux'\nimport { reset_password_confirm } from '../../redux/actions/auth'\nimport Loader from 'react-loader-spinner'\nimport {Navigate, useParams} from 'react-router'\nconst ResetPasswordConfirm = ({\n  reset_password_confirm,\n  loading\n}) => {\n  const params = useParams()\n\n  const [requestSent, setRequestSent] = useState(false);\n\n  useEffect(() => {\n    window.scrollTo(0,0)\n  }, [])\n\n  const [formData, setFormData] = useState({\n    new_password: '',\n    re_new_password: ''\n  })\n\n  const { \n    new_password,\n    re_new_password\n  } = formData;\n\n  const onChange = e => setFormData({ ...formData, [e.target.name]: e.target.value });\n\n  const onSubmit = e =>{\n    e.preventDefault();\n    const uid = params.uid\n    const token = params.token\n\n    reset_password_confirm(uid, token, new_password, re_new_password)\n    if (new_password === re_new_password)\n      setRequestSent(true);\n  }\n\n  if (requestSent && !loading)\n        return <Navigate to='/' />;\n\n  return (\n    <Layout>\n      <div className=\"min-h-full flex flex-col justify-center py-12 sm:px-6 lg:px-8\">\n        <div className=\"sm:mx-auto sm:w-full sm:max-w-md\">\n          <img\n            className=\"mx-auto h-12 w-auto\"\n            src=\"https://tailwindui.com/img/logos/workflow-mark-indigo-600.svg\"\n            alt=\"Workflow\"\n          />\n          <h2 className=\"mt-6 text-center text-3xl font-extrabold text-gray-900\">Set your new password</h2>\n          \n        </div>\n\n        <div className=\"mt-8 sm:mx-auto sm:w-full sm:max-w-md\">\n          <div className=\"bg-white py-8 px-4 shadow sm:rounded-lg sm:px-10\">\n            <form onSubmit={e=>onSubmit(e)} className=\"space-y-6\">\n              <div>\n                <label htmlFor=\"email\" className=\"block text-sm font-medium text-gray-700\">\n                  Password\n                </label>\n                <div className=\"mt-1\">\n                  <input\n                    name=\"new_password\"\n                    value={new_password}\n                    onChange={e=>onChange(e)}\n                    type=\"password\"\n                    placeholder=\"Password\"\n                    required\n                    className=\"appearance-none block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm placeholder-gray-400 focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm\"\n                  />\n                </div>\n              </div>\n              <div>\n                <label htmlFor=\"email\" className=\"block text-sm font-medium text-gray-700\">\n                  Repeat Password\n                </label>\n                <div className=\"mt-1\">\n                  <input\n                    name=\"re_new_password\"\n                    value={re_new_password}\n                    onChange={e=>onChange(e)}\n                    type=\"password\"\n                    placeholder=\"Repeat Password\"\n                    required\n                    className=\"appearance-none block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm placeholder-gray-400 focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm\"\n                  />\n                </div>\n              </div>\n\n              <div>\n                {loading ? \n                <button\n                className=\"w-full flex justify-center py-2 px-4 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-indigo-600 hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500\"\n              >\n                <Loader\n                type=\"Oval\"\n                color=\"#fff\"\n                width={20}\n                height={20}\n                />\n              </button>:\n              <button\n              type=\"submit\"\n              className=\"w-full flex justify-center py-2 px-4 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-indigo-600 hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500\"\n            >\n              Reset password\n            </button>}\n              </div>\n            </form>\n          </div>\n        </div>\n      </div>\n    </Layout>\n  )\n}\nconst mapStateToProps = state => ({\n  loading: state.Auth.loading\n})\n\nexport default connect(mapStateToProps, {\n  reset_password_confirm\n}) (ResetPasswordConfirm)"]},"metadata":{},"sourceType":"module"}