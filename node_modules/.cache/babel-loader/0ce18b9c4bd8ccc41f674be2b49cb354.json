{"ast":null,"code":"import _regeneratorRuntime from\"C:/Users/JuanD/JuanD/respaldo002/cyg/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"C:/Users/JuanD/JuanD/respaldo002/cyg/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import _defineProperty from\"C:/Users/JuanD/JuanD/respaldo002/cyg/node_modules/@babel/runtime/helpers/esm/defineProperty\";import _objectSpread from\"C:/Users/JuanD/JuanD/respaldo002/cyg/node_modules/@babel/runtime/helpers/esm/objectSpread2\";import _slicedToArray from\"C:/Users/JuanD/JuanD/respaldo002/cyg/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import{useState}from\"react\";import{Link}from\"react-router-dom\";import{UploadIcon,XIcon,CheckIcon,ClockIcon}from\"@heroicons/react/solid\";import{useEffect}from\"react\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";var CartItem=function CartItem(_ref){var item=_ref.item,count=_ref.count,update_item=_ref.update_item,remove_item=_ref.remove_item,render=_ref.render,setRender=_ref.setRender,setAlert=_ref.setAlert;var _useState=useState({item_count:1}),_useState2=_slicedToArray(_useState,2),formData=_useState2[0],setFormData=_useState2[1];var item_count=formData.item_count;useEffect(function(){if(count)setFormData(_objectSpread(_objectSpread({},formData),{},{item_count:count}));},[count]);var _onChange=function onChange(e){return setFormData(_objectSpread(_objectSpread({},formData),{},_defineProperty({},e.target.name,e.target.value)));};var _onSubmit=function onSubmit(e){e.preventDefault();var fetchData=/*#__PURE__*/function(){var _ref2=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(){return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.prev=0;if(!(item.product.quantity>=item_count)){_context.next=6;break;}_context.next=4;return update_item(item,item_count);case 4:_context.next=7;break;case 6:setAlert('Not enough in stock','danger');case 7:setRender(!render);_context.next=12;break;case 10:_context.prev=10;_context.t0=_context[\"catch\"](0);case 12:case\"end\":return _context.stop();}}},_callee,null,[[0,10]]);}));return function fetchData(){return _ref2.apply(this,arguments);};}();fetchData();};var removeItemHandler=/*#__PURE__*/function(){var _ref3=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee2(){return _regeneratorRuntime.wrap(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:_context2.next=2;return remove_item(item);case 2:setRender(!render);case 3:case\"end\":return _context2.stop();}}},_callee2);}));return function removeItemHandler(){return _ref3.apply(this,arguments);};}();return/*#__PURE__*/_jsxs(\"li\",{className:\"flex py-6 sm:py-10\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"flex-shrink-0\",children:/*#__PURE__*/_jsx(\"img\",{src:item.product.photo,alt:\"\",className:\"w-24 h-24 rounded-md object-center object-cover sm:w-48 sm:h-48\"})}),/*#__PURE__*/_jsxs(\"div\",{className:\"ml-4 flex-1 flex flex-col justify-between sm:ml-6\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"relative pr-9 sm:grid sm:grid-cols-2 sm:gap-x-6 sm:pr-0\",children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"div\",{className:\"flex justify-between\",children:/*#__PURE__*/_jsx(\"h3\",{className:\"text-sm\",children:/*#__PURE__*/_jsx(Link,{to:\"/product/\".concat(item.product.id),className:\"font-medium text-gray-700 hover:text-gray-800\",children:item.product.name})})}),/*#__PURE__*/_jsx(\"div\",{className:\"mt-1 flex text-sm\",children:/*#__PURE__*/_jsx(\"p\",{className:\"text-gray-500\",children:\"Color\"})}),/*#__PURE__*/_jsxs(\"p\",{className:\"mt-1 text-sm font-medium text-gray-900\",children:[\"$ \",item.product.price]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"mt-4 sm:mt-0 sm:pr-9\",children:[/*#__PURE__*/_jsxs(\"form\",{onSubmit:function onSubmit(e){return _onSubmit(e);},children:[/*#__PURE__*/_jsxs(\"select\",{name:\"item_count\",onChange:function onChange(e){return _onChange(e);},value:item_count,className:\"max-w-full rounded-md border border-gray-300 py-1.5 text-base leading-5 font-medium text-gray-700 text-left shadow-sm focus:outline-none focus:ring-1 focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm\",children:[/*#__PURE__*/_jsx(\"option\",{children:\"1\"}),/*#__PURE__*/_jsx(\"option\",{children:\"2\"}),/*#__PURE__*/_jsx(\"option\",{children:\"3\"}),/*#__PURE__*/_jsx(\"option\",{children:\"4\"}),/*#__PURE__*/_jsx(\"option\",{children:\"5\"}),/*#__PURE__*/_jsx(\"option\",{children:\"6\"}),/*#__PURE__*/_jsx(\"option\",{children:\"7\"}),/*#__PURE__*/_jsx(\"option\",{children:\"8\"}),/*#__PURE__*/_jsx(\"option\",{children:\"9\"})]}),/*#__PURE__*/_jsx(\"button\",{type:\"submit\",className:\"-m-2 p-2 inline-flex text-gray-400 hover:text-gray-500\",children:/*#__PURE__*/_jsx(\"span\",{className:\"mx-2\",children:\"Update\"})})]}),/*#__PURE__*/_jsx(\"div\",{className:\"absolute top-0 right-0\",children:/*#__PURE__*/_jsxs(\"button\",{onClick:removeItemHandler,className:\"-m-2 p-2 inline-flex text-gray-400 hover:text-gray-500\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"sr-only\",children:\"Remove\"}),/*#__PURE__*/_jsx(XIcon,{className:\"h-5 w-5\",\"aria-hidden\":\"true\"})]})})]})]}),/*#__PURE__*/_jsx(\"p\",{className:\"mt-4 flex text-sm text-gray-700 space-x-2\",children:item.product&&item.product!==null&&item.product!==undefined&&item.product.quantity>0?/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(CheckIcon,{className:\"flex-shrink-0 h-5 w-5 text-green-500\",\"aria-hidden\":\"true\"}),/*#__PURE__*/_jsx(\"span\",{children:\"In Stock\"})]}):/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(ClockIcon,{className:\"flex-shrink-0 h-5 w-5 text-gray-300\",\"aria-hidden\":\"true\"}),/*#__PURE__*/_jsx(\"span\",{children:\"Out of Stock\"})]})})]})]});};export default CartItem;","map":{"version":3,"sources":["C:/Users/JuanD/JuanD/respaldo002/cyg/src/components/cart/CartItem.js"],"names":["useState","Link","UploadIcon","XIcon","CheckIcon","ClockIcon","useEffect","CartItem","item","count","update_item","remove_item","render","setRender","setAlert","item_count","formData","setFormData","onChange","e","target","name","value","onSubmit","preventDefault","fetchData","product","quantity","removeItemHandler","photo","id","price","undefined"],"mappings":"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","sourcesContent":["import { useState } from \"react\";\nimport { Link } from \"react-router-dom\";\nimport { UploadIcon, XIcon, CheckIcon, ClockIcon } from \"@heroicons/react/solid\";\nimport { useEffect } from \"react\";\nconst CartItem = ({\n    item,\n    count,\n    update_item,\n    remove_item,\n    render,\n    setRender,\n    setAlert\n})=>{\n    const [formData, setFormData] = useState({\n        item_count: 1\n    });\n\n    const { item_count } = formData;\n    \n    useEffect(() => {\n        if (count)\n            setFormData({ ...formData, item_count: count });\n    }, [count]);\n\n    const onChange = e => setFormData({ ...formData, [e.target.name]: e.target.value });\n\n    const onSubmit = e => {\n        e.preventDefault()\n        const fetchData = async () => {\n            try {\n                if (item.product.quantity >= item_count) {\n                    await update_item(item, item_count);\n                }\n                else {\n                    setAlert('Not enough in stock', 'danger');\n                }\n                setRender(!render);\n            } catch(err) {\n\n            }\n        };\n\n        fetchData();\n    }\n\n    const removeItemHandler = async () => {\n        await remove_item(item);\n        setRender(!render);\n    };\n\n    return(\n        <li className=\"flex py-6 sm:py-10\">\n            <div className=\"flex-shrink-0\">\n            <img\n                src={item.product.photo}\n                alt=\"\"\n                className=\"w-24 h-24 rounded-md object-center object-cover sm:w-48 sm:h-48\"\n            />\n            </div>\n\n            <div className=\"ml-4 flex-1 flex flex-col justify-between sm:ml-6\">\n            <div className=\"relative pr-9 sm:grid sm:grid-cols-2 sm:gap-x-6 sm:pr-0\">\n                <div>\n                <div className=\"flex justify-between\">\n                    <h3 className=\"text-sm\">\n                    <Link to={`/product/${item.product.id}`} className=\"font-medium text-gray-700 hover:text-gray-800\">\n                        {item.product.name}\n                    </Link>\n                    </h3>\n                </div>\n                <div className=\"mt-1 flex text-sm\">\n                    <p className=\"text-gray-500\">Color</p>\n                    {/* {product.size ? (\n                    <p className=\"ml-4 pl-4 border-l border-gray-200 text-gray-500\">{product.size}</p>\n                    ) : null} */}\n                </div>\n                <p className=\"mt-1 text-sm font-medium text-gray-900\">$ {item.product.price}</p>\n                </div>\n\n                <div className=\"mt-4 sm:mt-0 sm:pr-9\">\n                <form onSubmit={e => onSubmit(e)}>\n                    <select\n                        name='item_count' \n                        onChange={(e) => onChange(e)}\n                        value={item_count}\n                        className=\"max-w-full rounded-md border border-gray-300 py-1.5 text-base leading-5 font-medium text-gray-700 text-left shadow-sm focus:outline-none focus:ring-1 focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm\"\n                    >\n                        <option>1</option>\n                        <option>2</option>\n                        <option>3</option>\n                        <option>4</option>\n                        <option>5</option>\n                        <option>6</option>\n                        <option>7</option>\n                        <option>8</option>\n                        <option>9</option>\n                    </select>\n                    <button \n                        type=\"submit\"\n                        className=\"-m-2 p-2 inline-flex text-gray-400 hover:text-gray-500\">\n                        <span className=\"mx-2\">Update</span>\n                    </button>\n                </form>\n\n                <div className=\"absolute top-0 right-0\">\n                    <button \n                    onClick={removeItemHandler}\n                    className=\"-m-2 p-2 inline-flex text-gray-400 hover:text-gray-500\">\n                    <span className=\"sr-only\">Remove</span>\n                    <XIcon className=\"h-5 w-5\" aria-hidden=\"true\" />\n                    </button>\n                </div>\n                </div>\n            </div>\n\n            <p className=\"mt-4 flex text-sm text-gray-700 space-x-2\">\n                {     \n                    item.product && \n                    item.product !== null &&\n                    item.product !== undefined && \n                    item.product.quantity > 0 ? \n                (\n                    <>\n                    <CheckIcon className=\"flex-shrink-0 h-5 w-5 text-green-500\" aria-hidden=\"true\" />\n                    <span>In Stock</span>\n                    </>\n                ) \n                : (\n                    <>\n                <ClockIcon className=\"flex-shrink-0 h-5 w-5 text-gray-300\" aria-hidden=\"true\" />\n                <span>Out of Stock</span>\n                    </>\n                )}\n            </p>\n            </div>\n        </li>\n    )\n}\nexport default CartItem"]},"metadata":{},"sourceType":"module"}